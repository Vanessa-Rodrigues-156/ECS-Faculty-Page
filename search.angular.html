<!DOCTYPE html>
<html
  lang="en"

  ng-app="facultySearchApp">
  <!-- defined the main app  and this ng-app is imp if not conncteed to the correct tag the entire code crashes [insert nessa crying:( ] -->
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <title>Faculty Search</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <!-- this ng controller tag is imp  -->
  <body ng-controller="FacultySearchController">
    <div class="container mx-auto p-4">
      <div class="mb-4">
        <input
          type="text"
          ng-model="searchTerm"
          ng-change="onSearch()"
          placeholder="Search faculties..."
          class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <!-- this is the main grid where the cards are displayed -->
        <div
          ng-repeat="faculty in filteredFaculties"
          class="bg-blue-100 p-4 border-2 border border-blue-900 rounded-lg shadow-md text-center">
          <!-- this is for a single card -->
          <img
            class="max-w-[200px] m-auto rounded-lg border-2 border border-blue-900"
            src="{{faculty.image}}"
            alt="{{faculty.name}}" />
          <h2 class="text-xl font-bold mb-2">{{faculty.name}}</h2>
          <p class="text-gray-600 mb-1">
            Qualification: {{faculty.qualification}}
          </p>
          <p class="text-gray-600">Area of Interest: {{faculty.description}}</p>
        </div>
      </div>
    </div>

    <script>
        // this is the main controller for the app
        // this binds the search bar ka search term to the faculties ka json
      angular
        .module("facultySearchApp", [])
        .controller("FacultySearchController", function ($scope) {
            // this is the json of the faculties 
          $scope.faculties = [
            {
          id: 1,
          name: "Dr. Deepak Bhoir",
          image:
            "https://fragnel.edu.in/images/crce/department/ecs/dvbhoir.jpg",
          profile:
            "https://frcrce.ac.in/images/crce/department/ecs/profile/dvbhoir_profile.pdf",
          description:
            "Instrumentation, Biomedical Instrumentation, Virtual Instrumentation, VLSI Design ,MEMS , Automation",
          qualification: "Ph.D.Electronics Engineering",
        },
        {
          id: 2,
          name: "Ms. Binsy Joseph",
          image: "https://fragnel.edu.in/images/crce/department/ecs/bin.jpg",
          profile:
            "http://frcrce.ac.in/images/crce/department/ecs/profile/binsy_joseph_profile.pdf",
          description:
            "Power electronics, Electrial Vehicle Battery Management, Renewable Energy System",
          qualification: "M.E., (Pursuing PhD)",
        },
        {
          id: 3,
          name: " Ms. Dipali Koshti",
          image:
            "https://fragnel.edu.in/images/crce/department/comps/dipali.jpg",
          profile:
            "https://frcrce.ac.in/images/crce/department/comps/profile/dipali_koshti_profile.pdf",
          description:
            " Deep Learning, Machine Learning, Mobile Computing, Soft Computing, Database Management Systems",
          qualification: "M.E., (Pursuing PhD)",
        },
        // add the est of the faculties ka json here 
          ];
         //
          $scope.filteredFaculties = $scope.faculties;
          // this sets the initial value of the filtered faculties to all faculties
          // so that all faculties are displayed initially
          $scope.searchTerm = "";
          //this is what co pilot converted for my vanila code 
          $scope.onSearch = function () {
            $scope.filteredFaculties = $scope.faculties.filter(function (
              faculty
            ) {
              var searchTerm = $scope.searchTerm.toLowerCase();
              return (
                faculty.name.toLowerCase().includes(searchTerm) ||
                faculty.department.toLowerCase().includes(searchTerm) ||
                faculty.expertise.toLowerCase().includes(searchTerm)
              );
            });
          };
        });
    </script>
  </body>
</html>
